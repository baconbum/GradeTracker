BEGIN;

CREATE TABLE IF NOT EXISTS Students(
	ID				INTEGER	PRIMARY KEY	NOT NULL,
	FirstName		TEXT,
	LastName		TEXT
);


CREATE TABLE IF NOT EXISTS Courses(
	ID				INTEGER	PRIMARY KEY	NOT NULL,
	Name			TEXT,
	StartDate		DATETIME,
	EndDate			DATETIME
);

CREATE TABLE IF NOT EXISTS Tasks(
	ID				INTEGER	PRIMARY KEY	NOT NULL,
	CourseID		INTEGER,
	Name			TEXT,
	PotentialMarks	REAL,
	Weight			REAL,
	FOREIGN KEY(CourseID)	REFERENCES Courses(ID)
);

CREATE TABLE IF NOT EXISTS StudentCourses(
	StudentID		INTEGER,
	CourseID		INTEGER,
	FOREIGN KEY(StudentID)	REFERENCES Students(ID),
	FOREIGN KEY(CourseID)	REFERENCES Courses(ID)
);

CREATE TABLE IF NOT EXISTS StudentTasks(
	StudentID		INTEGER,
	TaskID			INTEGER,
	EarnedMarks		REAL,
	NoMark			BOOLEAN,
	FOREIGN KEY(StudentID)	REFERENCES Students(ID),
	FOREIGN KEY(TaskID)		REFERENCES Tasks(ID)
);

COMMIT;